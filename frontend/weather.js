var lastPosition,x=document.getElementById("weather-data");function getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(requestWeather):x.innerHTML="Geolocation is not supported by this browser."}function requestWeather(t){"use strict";lastPosition=t;var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);x.innerHTML=(1.8*(parseFloat(t.main.temp)-273)+32).toFixed(2)+" F"}},e.open("GET","https://api.openweathermap.org/data/2.5/weather?lat="+t.coords.latitude+"&lon="+t.coords.longitude+"&APPID=e52a62eb866f868403d3e41fe0f97242",!0),e.send()}function switchUnit(){"use strict";var t;"F"==x.innerHTML.slice(-1)?((t=new XMLHttpRequest).onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);x.innerHTML=(parseFloat(t.main.temp)-273).toFixed(2)+" C"}},t.open("GET","https://api.openweathermap.org/data/2.5/weather?lat="+lastPosition.coords.latitude+"&lon="+lastPosition.coords.longitude+"&APPID=e52a62eb866f868403d3e41fe0f97242",!0),t.send()):((t=new XMLHttpRequest).onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);x.innerHTML=(1.8*(parseFloat(t.main.temp)-273)+32).toFixed(2)+" F"}},t.open("GET","https://api.openweathermap.org/data/2.5/weather?lat="+lastPosition.coords.latitude+"&lon="+lastPosition.coords.longitude+"&APPID=e52a62eb866f868403d3e41fe0f97242",!0),t.send())}getLocation();